(this.webpackJsonpamap_react=this.webpackJsonpamap_react||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(21),c=n.n(o),r=(n(76),n(77),n(13)),s=n(14),u=n(18),l=n(17),d=n(63),h=n.n(d),b=(n(78),n(9)),j=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){h.a.load({key:"0453040a9b38e88e819ff8ed3ac82b3a"}).then((function(e){var t=new e.Map("container",{resizeEnable:!0});e.plugin("AMap.Geolocation",(function(){var n=new e.Geolocation({enableHighAccuracy:!0,timeout:1e4,maximumAge:0,convert:!0,showButton:!0,buttonPosition:"LB",buttonOffset:new e.Pixel(10,20),showMarker:!0,showCircle:!0,panToLocation:!0,zoomToAccuracy:!0});t.addControl(n),n.getCurrentPosition((function(e,t){if("complete"===e){document.getElementById("status").innerHTML="\u5b9a\u4f4d\u6210\u529f";var n=[];n.push("\u5b9a\u4f4d\u7ed3\u679c\uff1a"+t.position),n.push("\u5b9a\u4f4d\u7c7b\u522b\uff1a"+t.location_type),t.accuracy&&n.push("\u7cbe\u5ea6\uff1a"+t.accuracy+" \u7c73"),n.push("\u662f\u5426\u7ecf\u8fc7\u504f\u79fb\uff1a"+(t.isConverted?"\u662f":"\u5426")),document.getElementById("result").innerHTML=n.join("<br>")}else document.getElementById("status").innerHTML="\u5b9a\u4f4d\u5931\u8d25",document.getElementById("result").innerHTML="\u5931\u8d25\u539f\u56e0\u6392\u67e5\u4fe1\u606f:"+t.message+"</br>\u6d4f\u89c8\u5668\u8fd4\u56de\u4fe1\u606f\uff1a"+t.originMessage}))}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"home_div",children:[Object(b.jsxs)("div",{style:{zIndex:2,background:"white",width:350,height:150,position:"absolute",right:10,top:10,padding:10},children:[Object(b.jsx)("h4",{id:"status"}),Object(b.jsx)("p",{id:"result"})]}),Object(b.jsx)("div",{id:"container",className:"container",style:{height:"100%"}})]})}}]),n}(i.Component),m=j,p=n(64),f=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).setMap=function(t){e.map=t},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){if(this.map){var e,t,n=this.map,i=window.BMapGL;(new i.Geolocation).getCurrentPosition((function(a){if(0===this.getStatus()){var o=new i.Marker(a.point);n.addOverlay(o);var c=new i.Label("",{offset:new i.Size(10,-10)});o.setLabel(c),n.setCenter(a.point),e=a.point.lng,t=a.point.lat,(new i.Geocoder).getLocation(new i.Point(e,t),(function(e){if(e){var t=e.addressComponents;alert(t.province+t.city+t.district+t.street+t.streetNumber)}}))}else alert("failed"+this.getStatus())}))}}},{key:"render",value:function(){var e=this;return Object(b.jsx)(p.Map,{style:{height:"90vh"},ref:function(t){return e.setMap(t.map)},center:{lng:121.389183,lat:31.166577},enableDoubleClickZoom:!0,enableDragging:!0,enableRotate:!0,enableScrollWheelZoom:!0,zoom:15})}}]),n}(i.Component),g=f,v=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).deviceorientation=function(){window.addEventListener("deviceorientation",(function(e){document.getElementById("alpha").innerHTML="X\uff1a".concat(e.alpha),document.getElementById("beta").innerHTML="Y\uff1a".concat(e.beta),document.getElementById("gamma").innerHTML="Z\uff1a".concat(e.gamma)}),!1)},e.isSafari=function(){return/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)},e.requestPermission=function(){"function"===typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(t){"granted"===t&&(alert("\u6388\u6743\u6210\u529f"),e.deviceorientation())})).catch(console.error):alert("handle regular non iOS 13+ devices")},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.isSafari()||this.deviceorientation()}},{key:"render",value:function(){return Object(b.jsxs)("div",{style:{padding:10},children:[this.isSafari()&&Object(b.jsxs)(b.Fragment,{children:["ios13+\u9700\u6388\u6743\uff0cios13\u4ee5\u4e0b\u65e0\u6cd5\u83b7\u53d6\u9640\u87ba\u4eea\u4fe1\u606f",Object(b.jsx)("br",{}),Object(b.jsx)("button",{onClick:this.requestPermission,children:"\u6388\u6743"})]}),Object(b.jsx)("h4",{id:"alpha"}),Object(b.jsx)("h4",{id:"beta"}),Object(b.jsx)("h4",{id:"gamma"}),Object(b.jsx)("h4",{id:"heading"}),Object(b.jsx)("h4",{id:"accuracy"})]})}}]),n}(i.Component),O=v,y=n(110);var x=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(y.a,{defaultActiveKey:"1",items:[{label:"\u9640\u87ba\u4eea",key:"1",children:Object(b.jsx)(O,{})},{label:"\u9ad8\u5fb7\u5730\u56fe",key:"2",children:Object(b.jsx)(m,{})},{label:"\u767e\u5ea6\u5730\u56fe",key:"3",children:Object(b.jsx)(g,{})}]})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,111)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),o(e),c(e)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root")),w()},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.f50d5ebd.chunk.js.map